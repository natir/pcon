<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `niffler` crate."><meta name="keywords" content="rust, rustlang, rust-lang, niffler"><title>niffler - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../niffler/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate niffler</p><div class="block version"><p>Version 2.3.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all niffler's items</p></a><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="niffler" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">niffler</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/niffler/lib.rs.html#1-69" title="goto source code">[src]</a></span></h1><div class="docblock"><h1 id="niffler" class="section-header"><a href="#niffler">niffler</a></h1>
<p>Simple and transparent support for compressed files.</p>
<p>This library provides two main features:</p>
<ul>
<li>sniffs out compression formats from input files and return a
Read trait object ready for consumption.</li>
<li>Create a Writer initialized with compression ready for writing.</li>
</ul>
<p>The goal is to lower the barrier to open and use a file, especially in
bioinformatics workflows.</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">niffler</span>::{<span class="ident">Error</span>, <span class="ident">compression</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">Vec</span>::<span class="ident">new</span>();

{
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">writer</span> <span class="op">=</span> <span class="ident">niffler</span>::<span class="ident">get_writer</span>(<span class="ident">Box</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">buffer</span>), <span class="ident">compression</span>::<span class="ident">Format</span>::<span class="ident">Gzip</span>, <span class="ident">niffler</span>::<span class="ident">Level</span>::<span class="ident">Nine</span>)<span class="question-mark">?</span>;
  <span class="ident">writer</span>.<span class="ident">write_all</span>(<span class="string">b&quot;hello&quot;</span>)<span class="question-mark">?</span>;
}


<span class="kw">let</span> (<span class="kw-2">mut</span> <span class="ident">reader</span>, <span class="ident">compression</span>) <span class="op">=</span> <span class="ident">niffler</span>::<span class="ident">get_reader</span>(<span class="ident">Box</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="ident">buffer</span>[..]))<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">contents</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">new</span>();
<span class="ident">reader</span>.<span class="ident">read_to_string</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">contents</span>)<span class="question-mark">?</span>;

<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">compression</span>, <span class="ident">niffler</span>::<span class="ident">compression</span>::<span class="ident">Format</span>::<span class="ident">Gzip</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">contents</span>, <span class="string">&quot;hello&quot;</span>);</pre></div>
<h2 id="selecting-compression-formats" class="section-header"><a href="#selecting-compression-formats">Selecting compression formats</a></h2>
<p>By default all supported compression formats are enabled.
If you're working on systems that don't support them you can disable default
features and select the ones you want.
For example,
currently only <code>gz</code> is supported in Webassembly environments
(because <code>niffler</code> depends on crates that have system dependencies for <code>bz2</code> and <code>lzma</code> compression),
so you can use this in your <code>Cargo.toml</code> to select only the <code>gz</code> support:</p>
<pre><code class="language-toml">niffler = { version = &quot;2.2.0&quot;, default-features = false, features = [&quot;gz&quot;] }
</code></pre>
<p>You can still use <code>niffler::sniff()</code> to find what is the compression format,
even if any feature is disabled.
But if you try to use <code>niffler::get_reader</code> for a disabled feature,
it will throw a runtime error.</p>
</div><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use crate::basic::compression::<a class="enum" href="../niffler/basic/compression/enum.Format.html" title="enum niffler::basic::compression::Format">Format</a>;</code></td></tr><tr><td><code>pub use crate::<a class="mod" href="../niffler/basic/index.html" title="mod niffler::basic">basic</a>::*;</code></td></tr><tr><td><code>pub use crate::error::<a class="enum" href="../niffler/error/enum.Error.html" title="enum niffler::error::Error">Error</a>;</code></td></tr><tr><td><code>pub use crate::level::<a class="enum" href="../niffler/level/enum.Level.html" title="enum niffler::level::Level">Level</a>;</code></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="basic/index.html" title="niffler::basic mod">basic</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="error/index.html" title="niffler::error mod">error</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="level/index.html" title="niffler::level mod">level</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="seek/index.html" title="niffler::seek mod">seek</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="seeksend/index.html" title="niffler::seeksend mod">seeksend</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="send/index.html" title="niffler::send mod">send</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="niffler"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>